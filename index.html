<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    <title>Viagem de carro</title>
</head>
<body>
    <br><br>
    <div class="container" align="center">
    <h3>Informe os dados</h3>
    <br>
    <form id="fviagem" action="#" method="get">
        <label for="imotorista" id="lmotorista">Nome do motorista</label>
        <input type="text" id="imotorista" placeholder="nome" required>
        <br>
        <label for="imodelo" id="lmodelo">Modelo do carro</label>
        <input type="text" id="imodelo" placeholder="carro"required>
        <br>
        <label for="iorigem" id="lorigem">Ponto de origem</label>
        <input type="text" id="iorigem" placeholder="origem"required>
        <br>
        <label for="idestino" id="ldestino">Destino final</label>
        <input type="text" id="idestino" placeholder="destino"required>
        <br>
        <label for="iplaca" id="lplaca">Placa do Carro</label>
        <input type="text" id="iplaca" placeholder="xxxxxxx" required>
        <br>
        <label for="ikm" id="lkm">Km percorridos</label>
        <input type="text" id="ikm" placeholder="00,00" required>
        <br>
        <label for="ilitros" id="llitros">Litros gastos</label>
        <input type="text" id="ilitros" placeholder="00,00" required>
        <br>
        <label for="ivalor" id="lvalor">Valor do combustível</label>
        <input type="text" id="ivalor" placeholder="00,00" required>
        <br><br>
        <h3>Acompanhe sua viagem</h3>
        <h6>*os valores são incluidos automaticamente</h6>
        <br>
        <label for="iautonomia" id="lautonomia">Autonomia</label>
        <input type="text" id="iautonomia" readonly>
        <br>
        <label for="igasto" id="lgasto">Gasto p/km</label>
        <input type="text" id="igasto" readonly>
        <br><label for="itotal" id="ltotal">Gasto total</label>
        <input type="text" id="itotal" readonly>
        <br><br>
        <input type="submit" id="bIncluir" class="btn btn-primary" value="Incluir">&nbsp;  
        <input type="button" id="bListar" class="btn btn-warning" value="Listar">&nbsp;
        <input type="reset" id="bLimpar" class="btn btn-danger"value="Limpar">  
    </form>
    <br>
    <p id="pObs">clique 2x para apagar</p>
    <hr>
    <p id="pMostra"></p>
</div>
</body>
    <script src="funcoes.js" language="JavaScript"></script>
    <script language="JavaScript">
        document.getElementById("fviagem").onsubmit = function() {
            let vautonomia = fIncluirviagem(document.getElementById("imotorista").value,
                            document.getElementById("imodelo").value,
                            document.getElementById("iorigem").value,
                            document.getElementById("idestino").value,
                            document.getElementById("iplaca").value,
                            document.getElementById("ikm").value,
                            document.getElementById("ilitros").value,
                            document.getElementById("ivalor").value);     
            document.getElementById("iautonomia").value = vautonomia.autonomia();                       
            document.getElementById("igasto").value = vautonomia.gasto_km();   
            document.getElementById("itotal").value = vautonomia.gasto_total();                       
            document.getElementById("pMostra").innerHTML = "número de viagens: "+fContaviagens();
        };
        document.getElementById("bListar").onclick = function() {
            document.getElementById("pMostra").innerHTML = fListarviagens(" | ","<br><br>")
            +"número de viagens: "+fContaviagens();
        }

        document.getElementById("fviagem").onreset = function() {
            fLimparviagens();
        }
    </script>
</html>